package com.scb.axessspringboottraining.serviceImpl;

import java.util.List;

import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.stereotype.Service;

import com.scb.axessspringboottraining.entity.ActiveDirectory;
import com.scb.axessspringboottraining.entity.FolderPath;
import com.scb.axessspringboottraining.repo.FolderPathRepository;
import com.scb.axessspringboottraining.service.FolderPathService;

@Service
public class FolderPathServiceImpl implements FolderPathService{
	
	@Autowired
	private FolderPathRepository repo;

	@Override
	public FolderPath addFolderPath(FolderPath path) {
		return repo.save(path);
	}

	@Override
	public List<FolderPath> getAllFolderPaths() {
		return repo.findAll();
	}

	@Override
	public FolderPath getFolderPathById(Long id) {
		// TODO Auto-generated method stub
		if(repo.findById(id).isPresent())return repo.findById(id).get();
		else return null;
	}

	@Override
	public FolderPath updateFolderPath(FolderPath path, Long id) {
		// TODO Auto-generated method stub
		FolderPath old = repo.findById(id).get();
		if(path.getPath() != null)old.setPath(path.getPath());
//		old.setActiveDirectories(path.getActiveDirectories());
//		old.setFiles(path.getFiles());
		return repo.save(old);
	}

	@Override
	public List<FolderPath> getAllByActiveDirectory(ActiveDirectory activeDirectory) {
		// TODO Auto-generated method stub
		return repo.getFolderPathsByActiveDirectories(activeDirectory);
	}

}
