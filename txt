import React, { useState } from 'react';
import LeftSection from './components/LeftSection';
import MiddleSection from './components/MiddleSection';
import RightSection from './components/RightSection';
import Grid from '@mui/material/Grid';

function App() {
  const [files, setFiles] = useState(/* ... */);
  const [favoriteFiles, setFavoriteFiles] = useState([]);

  const handleToggleFavorite = (file) => {
    if (file.isFavorite) {
      setFavoriteFiles(prevFavorites => prevFavorites.filter(fav => fav.id !== file.id));
    } else {
      setFavoriteFiles(prevFavorites => [...prevFavorites, file]);
    }
    
    setFiles(prevFiles =>
      prevFiles.map(f => (f.id === file.id ? { ...f, isFavorite: !f.isFavorite } : f))
    );
  };

  return (
    <div className="app">
      <Grid container spacing={2}>
        <Grid item xs={3}>
          <LeftSection /* ... */ />
        </Grid>
        <Grid item xs={6}>
          <MiddleSection files={files} onToggleFavorite={handleToggleFavorite} />
        </Grid>
        <Grid item xs={3}>
          <RightSection favoriteFiles={favoriteFiles} />
        </Grid>
      </Grid>
    </div>
  );
}

export default App;
