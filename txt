import React, { useState } from "react";
import { Container, Paper, Grid } from "@material-ui/core";
import FolderIcon from "@material-ui/icons/Folder";
import FileIcon from "@material-ui/icons/InsertDriveFile";
import Breadcrumbs from "@material-ui/core/Breadcrumbs";
import Typography from "@material-ui/core/Typography";
import Link from "@material-ui/core/Link";

const MainContent = () => {
  const initialFolder = {
    name: "Root",
    folders: [
      {
        name: "Folder 1",
        folders: [
          {
            name: "Subfolder 1",
            folders: [],
            files: [{ name: "File 1", type: "file" }],
          },
        ],
        files: [],
      },
      {
        name: "Folder 2",
        folders: [],
        files: [
          { name: "File 2", type: "file" },
          { name: "File 3", type: "file" },
        ],
      },
    ],
    files: [],
  };

  const [currentFolder, setCurrentFolder] = useState(initialFolder);
  const [breadcrumbs, setBreadcrumbs] = useState([]);

  const handleFolderClick = (folder) => {
    const updatedBreadcrumbs = [...breadcrumbs, folder];
    setCurrentFolder(folder);
    setBreadcrumbs(updatedBreadcrumbs);
  };

  return (
    <Container>
      <Paper elevation={3} style={{ padding: "20px", marginBottom: "20px" }}>
        <Breadcrumbs aria-label="breadcrumb">
          {breadcrumbs.map((breadcrumb, index) => (
            <Link
              key={index}
              color="inherit"
              onClick={() => handleFolderClick(breadcrumb)}
            >
              {breadcrumb.name}
            </Link>
          ))}
          <Typography color="textPrimary">{currentFolder.name}</Typography>
        </Breadcrumbs>
      </Paper>
      <Grid container spacing={3}>
        {currentFolder.folders.map((folder, index) => (
          <Grid item xs={3} key={index}>
            <FolderIcon />
            <span onClick={() => handleFolderClick(folder)}>
              {folder.name}
            </span>
          </Grid>
        ))}
      </Grid>
    </Container>
  );
};

export default MainContent;
