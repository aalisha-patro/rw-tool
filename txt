const MainContent = ({ folders }) => {
  const [currentFolders, setCurrentFolders] = useState(folders);
  const [searchInput, setSearchInput] = useState("");
  const [filterMenuAnchor, setFilterMenuAnchor] = useState(null);
  const [selectedFilter, setSelectedFilter] = useState(null); // To track the selected filter option
  const [dateRangePickerOpen, setDateRangePickerOpen] = useState(false);

  const handleFolderClick = (clickedFolder) => {
    // ... your existing folder click logic ...
  };

  const handleSearch = (event) => {
    // ... your existing search logic ...
  };

  const handleFilterIconClick = (event) => {
    setFilterMenuAnchor(event.currentTarget);
  };

  const handleFilterOptionClick = (filterOption) => () => {
    setSelectedFilter(filterOption);

    if (filterOption === "date") {
      setDateRangePickerOpen(true);
      setFilterMenuAnchor(null);
    } else {
      // Handle other filter options
    }
  };

  const handleDateRangePickerClose = (selectedDateRange) => {
    setDateRangePickerOpen(false);
    setFilterMenuAnchor(null);
    // Filter folders based on selectedDateRange
  };

  return (
    <Container>
      <Paper elevation={3} style={{ padding: "20px", marginBottom: "20px" }}>
        <Breadcrumbs />
      </Paper>
      <Paper elevation={3} style={{ padding: "20px", marginBottom: "20px", display: "flex", alignItems: "center" }}>
        <TextField
          label="Search Folders"
          variant="outlined"
          fullWidth
          value={searchInput}
          onChange={handleSearch}
        />
        <IconButton onClick={handleFilterIconClick}>
          <CalendarTodayIcon /> {/* Use the desired filter icon */}
        </IconButton>
        <Menu
          anchorEl={filterMenuAnchor}
          open={Boolean(filterMenuAnchor)}
          onClose={() => setFilterMenuAnchor(null)}
        >
          <MenuItem onClick={handleFilterOptionClick("date")}>Date</MenuItem>
          {/* Add other filter options here */}
        </Menu>
        <DateRangePicker
          open={dateRangePickerOpen}
          onClose={handleDateRangePickerClose}
        />
      </Paper>
      <Grid container spacing={3}>
        {/* Render the filtered folders */}
        {currentFolders.map((folder, index) => (
          <Grid item xs={3} key={index} onClick={() => handleFolderClick(folder)}>
            <FolderIcon />
            <span>{folder.name}</span>
          </Grid>
        ))}
      </Grid>
    </Container>
  );
};
