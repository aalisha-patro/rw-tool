const handleToggleFavorite = (file) => {
  const updatedFiles = files.map(f => 
    f.id === file.id ? { ...f, isFavorite: !f.isFavorite } : f
  );
  
  setFiles(updatedFiles);

  if (file.isFavorite) {
    setFavoriteFiles(prevFavorites => 
      prevFavorites.filter(fav => fav.id !== file.id)
    );
  } else {
    setFavoriteFiles(prevFavorites => [...prevFavorites, file]);
  }
};
